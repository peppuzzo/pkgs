# vim: set ft=sh:
pkgname=arpack-ng
pkgver=3.3.0
pkgurl=https://github.com/opencollab/arpack-ng/archive/${pkgver}.tar.gz

module load pkg-config autoconf automake libtool
module load openmpi
export MPILIBS="`pkg-config --libs ompi-f77` "
export MPIF77=mpif77

apply_patch()
{
  pushd $tmpdir/$srcdir
  libtoolize
  ./bootstrap
  popd
}

confopts="--enable-mpi --disable-dependency-tracking"

pkgmodule=$(cat <<-EOT
#%Module
set ARPACK_DIR $REPO/opt/$pkgname-$pkgver
setenv ARPACK_DIR \$ARPACK_DIR

prepend-path PATH \$ARPACK_DIR/bin
EOT)
